<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Autocomplete Trie</title>
</head>
<body>

<h2>Autocomplete con PatriciaTrie</h2>

<input type="text" id="search" placeholder="Escribe..." autocomplete="off"/>
<ul id="results"></ul>

<script>
    const input = document.getElementById("search");
    const results = document.getElementById("results");

    input.addEventListener("input", async () => {
        const query = input.value;

        if (query.length === 0) {
            results.innerHTML = "";
            return;
        }

        const response = await fetch(`/autocomplete?q=${query}`);
        const data = await response.json();

        results.innerHTML = "";
        data.forEach(item => {
            const li = document.createElement("li");
            li.textContent = item;
            results.appendChild(li);
        });
    });
</script>

</body>
</html>
